import{ClientOnly as m}from"@vuepress/client";import{useStorage as y}from"@vueuse/core";import{defineComponent as I,ref as c,watch as g,h as n}from"vue";import"../styles/tabs.scss";const d=y("VUEPRESS_TAB_STORE",{});var h=I({name:"Tabs",props:{active:{type:Number,default:0},data:{type:Array,required:!0},tabId:{type:String,default:""}},setup(a,{slots:s}){const l=c((()=>{if(a.tabId){const e=a.data.findIndex(({title:t,value:u=t})=>d.value[a.tabId]===u);if(e!==-1)return e}return a.active})()),i=c([]),o=()=>{if(a.tabId){const{title:e,value:t=e}=a.data[l.value];d.value[a.tabId]=t}},f=(e=l.value)=>{l.value=e<i.value.length-1?e+1:0,i.value[l.value].focus()},p=(e=l.value)=>{l.value=e>0?e-1:i.value.length-1,i.value[l.value].focus()},b=(e,t)=>{e.key===" "||e.key==="Enter"?(e.preventDefault(),l.value=t):e.key==="ArrowRight"?(e.preventDefault(),f()):e.key==="ArrowLeft"&&(e.preventDefault(),p()),o()};return g(()=>d.value[a.tabId],(e,t)=>{if(a.tabId&&e!==t){const u=a.data.findIndex(({title:r,value:v=r})=>v===e);u!==-1&&(l.value=u)}}),()=>n(m,()=>n("div",{class:"tab-list"},[n("div",{class:"tab-list-nav"},a.data.map(({title:e},t)=>{const u=t===l.value;return n("button",{ref:r=>{r&&(i.value[t]=r)},class:["tab-list-nav-item",{active:u}],"aria-pressed":u,"aria-expanded":u,onClick:()=>{l.value=t,o()},onKeydown:r=>b(r,t)},e)})),a.data.map(({title:e,value:t=e},u)=>{var r;const v=u===l.value;return n("div",{class:["tab-item",{active:v}],"aria-selected":v},(r=s[`tab${u}`])==null?void 0:r.call(s,{title:e,value:t,isActive:v}))})]))}});export{h as default};
//# sourceMappingURL=Tabs.js.map
